<!DOCTYPE html>
{% extends 'res_base.html' %}
{% load static %}
{% block head %}
<link href="{% static 'my_css/qr.css' %}" rel="stylesheet" />{% endblock %}
{% block body %}
    {% if messages and order_det.table_no.rest_id == user.user_id %}

    {% for message in messages %}
        {% if message.tags == 'warning' %}
        <div class="alert alert-warning alert-dismissible fade show" role="alert">
          {{ message }}
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        {% endif %}
    {% endfor %}


{% endif %}
    <div class="content">
        <div class="container-fluid">
          <div class="row">
              <div class="col-lg-3 col-md-6 col-sm-6">
                  <div class="card card-stats">
                      <div class="card-header card-header-success">

                          <p class="card-category"></p>
                          <h3 class="card-title">Today's Earning</h3>
                      </div>
                      <div class="card-body text-center">
                          {{ total }}
                      </div>
                      <div class="card-footer">
                          <div class="stats">

                          </div>
                      </div>
                  </div>
              </div>

              <div class="col-lg-3 col-md-6 col-sm-6">
                  <div class="card card-stats">
                      <div class="card-header card-header-success">

                          <p class="card-category"></p>
                          <h3 class="card-title">Month's Earning</h3>
                      </div>
                      <div class="card-body text-center">
                          {{ m_total }}
                      </div>
                      <div class="card-footer">
                          <div class="stats">

                          </div>
                      </div>
                  </div>
              </div>
              <div class="col-lg-3 col-md-6 col-sm-6">
                  <div class="card card-stats">
                      <div class="card-header card-header-success">

                          <p class="card-category"></p>
                          <h3 class="card-title">Total Employee</h3>
                      </div>
                      <div class="card-body text-center ">
                          {{ total_emp.count }}
                      </div>
                      <div class="card-footer">
                          <div class="stats">

                          </div>
                      </div>
                  </div>
              </div>

               <div class="col-lg-3 col-md-6 col-sm-6">
                  <div class="card card-stats">
                      <div class="card-header card-header-success">

                          <p class="card-category"></p>
                          <h3 class="card-title">Total Earning</h3>
                      </div>
                      <div class="card-body text-center">
                          {{ a_total }}
                      </div>
                      <div class="card-footer">
                          <div class="stats">

                          </div>
                      </div>
                  </div>
              </div>


          </div>

        </div>

            <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.min.js"></script>
            <canvas id="myChart"></canvas>
            
            <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
            <script>

                $(document).ready(function () {
                    new Chart(document.getElementById("myChart").getContext("2d"), {
                        type: "bar",
                        data: {
                            labels: ["Jan", "Feb", "Mar", "Apr", "May", "June", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ],
                            datasets: [
                                {
                                    backgroundColor: ['#CD6155','#AF7AC5','#5DADE2', '#73C6B6', '#7DCEA0', '#F7DC6F', '#F0B27A', '#F06292', '#F9A825', '#339933', '#0000CC', '#CCFF33'],
                                    fillColor: "#000000",
                                    data: {{ months_earn|safe }}
                                },
                        
                
                            ]
                          },
                    options: {
                    
                        
                    legend: {
                        display: false,
                        
                        
                    },
                    title: {
                            display: true,
                            text: 'Sales Chart',

                        },
                    scales: {
                        xAxes: [{
                            stacked: true
                        }],
                        yAxes: [{
                            stacked: true
                        }],
                    }
                }
                        });
                  });
            </script>
    </div>
{% endblock %}